/* ===== CSS VARIABLES ===== */
:root {
    /* Pokemon Colors */
    --pokemon-red: #FF0000;
    --pokemon-blue: #3B4CCA;
    --pokemon-yellow: #FFDE00;
    --bg-color: #F8F8F8;
    --dark-bg: #2C2C2C;
    
    /* Type Colors */
    --type-fire: #F08030;
    --type-water: #6890F0;
    --type-grass: #78C850;
    --type-electric: #F8D030;
    --type-psychic: #F85888;
    --type-normal: #A8A878;
    --type-ice: #98D8D8;
    --type-fighting: #C03028;
    --type-poison: #A040A0;
    --type-ground: #E0C068;
    --type-flying: #A890F0;
    --type-bug: #A8B820;
    --type-rock: #B8A038;
    --type-ghost: #705898;
    --type-dragon: #7038F8;
    --type-dark: #705848;
    --type-steel: #B8B8D0;
    --type-fairy: #EE99AC;
    
    /* DS Screen */
    --ds-border: #1a1a2e;
    --ds-screen-bg: #9bbc0f;
    --ds-light: #c4cfa1;
}
/* ===== RESET & BASE ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
body {
    font-family: 'Press Start 2P', cursive;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    min-height: 100vh;
    color: #333;
    font-size: 10px;
    overflow-x: hidden;
}
/* ===== UTILITY CLASSES ===== */
.hidden {
    display: none !important;
}
/* ===== HEADER ===== */
#game-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: linear-gradient(180deg, var(--pokemon-red) 0%, #cc0000 100%);
    border-bottom: 4px solid var(--pokemon-yellow);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    z-index: 1000;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}
.game-title {
    color: var(--pokemon-yellow);
    font-size: 14px;
    text-shadow: 
        2px 2px 0 var(--pokemon-blue),
        -1px -1px 0 #000,
        1px -1px 0 #000,
        -1px 1px 0 #000;
    letter-spacing: 2px;
}
.coin-display {
    background: linear-gradient(180deg, #ffd700 0%, #ffaa00 100%);
    padding: 8px 16px;
    border-radius: 20px;
    border: 3px solid #8B4513;
    color: #8B4513;
    font-size: 12px;
    box-shadow: 
        inset 0 2px 4px rgba(255,255,255,0.5),
        0 3px 6px rgba(0,0,0,0.3);
    display: flex;
    align-items: center;
    gap: 8px;
}
/* ===== MAIN CONTAINER ===== */
.main-container {
    margin-top: 160px;
    padding: 20px;
    max-width: 480px;
    margin-left: auto;
    margin-right: auto;
}
/* ===== DS FRAME ===== */
.ds-frame {
    background: linear-gradient(145deg, #2d2d2d 0%, #1a1a1a 100%);
    border-radius: 20px;
    padding: 15px;
    border: 4px solid #444;
    box-shadow: 
        0 10px 30px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.1);
}
.ds-screen {
    background: var(--bg-color);
    border-radius: 8px;
    border: 4px solid #111;
    overflow: hidden;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
}
/* ===== PAGE STYLES ===== */
.page {
    min-height: calc(100vh - 110px);
}
/* ===== MENU PAGE ===== */
#page-menu .ds-screen {
    background: linear-gradient(180deg, #87CEEB 0%, #98FB98 100%);
    padding: 30px 20px;
    text-align: center;
}
.menu-title {
    font-size: 20px;
    color: var(--pokemon-blue);
    text-shadow: 
        3px 3px 0 var(--pokemon-yellow),
        -2px -2px 0 #fff,
        2px -2px 0 #fff,
        -2px 2px 0 #fff;
    margin-bottom: 10px;
    animation: titlePulse 2s ease-in-out infinite;
}
.menu-subtitle {
    font-size: 8px;
    color: #555;
    margin-bottom: 30px;
}
@keyframes titlePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}
.pokeball-decoration {
    width: 80px;
    height: 80px;
    margin: 20px auto;
    background: linear-gradient(180deg, #ff0000 0%, #ff0000 48%, #222 48%, #222 52%, #fff 52%, #fff 100%);
    border-radius: 50%;
    border: 4px solid #222;
    position: relative;
    animation: pokeballBounce 1.5s ease-in-out infinite;
}
.pokeball-decoration::after {
    content: '';
    position: absolute;
    width: 24px;
    height: 24px;
    background: #fff;
    border: 4px solid #222;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
@keyframes pokeballBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}
.menu-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 30px;
}
/* ===== BUTTONS ===== */
.btn-ds {
    font-family: 'Press Start 2P', cursive;
    font-size: 12px;
    padding: 15px 25px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
}
.btn-ds::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: rgba(255,255,255,0.2);
    border-radius: 10px 10px 0 0;
}
.btn-ds:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}
.btn-ds:active {
    transform: translateY(1px);
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}
.btn-red {
    background: linear-gradient(180deg, #ff4444 0%, #cc0000 100%);
    color: white;
    border: 3px solid #990000;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.btn-blue {
    background: linear-gradient(180deg, #5588ff 0%, var(--pokemon-blue) 100%);
    color: white;
    border: 3px solid #2a3a99;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.btn-green {
    background: linear-gradient(180deg, #66dd66 0%, #339933 100%);
    color: white;
    border: 3px solid #227722;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.btn-yellow {
    background: linear-gradient(180deg, #ffee55 0%, #ddaa00 100%);
    color: #333;
    border: 3px solid #996600;
}
.btn-gray {
    background: linear-gradient(180deg, #888 0%, #555 100%);
    color: white;
    border: 3px solid #333;
    font-size: 10px;
}
.btn-small {
    font-size: 8px;
    padding: 10px 15px;
}
/* ===== INVENTORY PAGE ===== */
#page-inventory .ds-screen {
    background: linear-gradient(180deg, #e8e0d0 0%, #d0c8b8 100%);
    padding: 15px;
}
.section-title {
    font-size: 12px;
    color: var(--pokemon-blue);
    text-align: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 3px solid var(--pokemon-blue);
}
.active-team-section {
    background: rgba(255,255,255,0.7);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 15px;
    border: 3px solid var(--pokemon-blue);
}
.active-team-title {
    font-size: 10px;
    color: var(--pokemon-red);
    margin-bottom: 10px;
    text-align: center;
}
#active-team {
    display: flex;
    justify-content: center;
    gap: 10px;
}
.team-slot {
    width: 80px;
    height: 90px;
    background: linear-gradient(180deg, #f0f0f0 0%, #d0d0d0 100%);
    border: 3px dashed #999;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 6px;
    color: #999;
}
.team-slot.filled {
    border-style: solid;
    border-color: var(--pokemon-blue);
    background: linear-gradient(180deg, #fff 0%, #e0e8ff 100%);
}
.team-slot img {
    width: 50px;
    height: 50px;
    image-rendering: pixelated;
}
.team-slot .slot-name {
    font-size: 6px;
    color: #333;
    margin-top: 5px;
}
.team-slot .remove-btn {
    font-size: 6px;
    background: var(--pokemon-red);
    color: white;
    border: none;
    padding: 3px 6px;
    border-radius: 3px;
    cursor: pointer;
    margin-top: 3px;
}
#pokemon-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    max-height: 300px;
    overflow-y: auto;
    padding: 10px;
    background: rgba(0,0,0,0.1);
    border-radius: 10px;
    margin-bottom: 15px;
}
#pokemon-grid::-webkit-scrollbar {
    width: 8px;
}
#pokemon-grid::-webkit-scrollbar-track {
    background: #ccc;
    border-radius: 4px;
}
#pokemon-grid::-webkit-scrollbar-thumb {
    background: var(--pokemon-blue);
    border-radius: 4px;
}
.empty-message {
    grid-column: 1 / -1;
    text-align: center;
    padding: 40px 20px;
    color: #666;
    font-size: 8px;
}
/* ===== POKEMON CARD ===== */
.pokemon-card {
    background: linear-gradient(180deg, #fff 0%, #f0f0f0 100%);
    border-radius: 10px;
    border: 3px solid #ddd;
    padding: 10px;
    text-align: center;
    transition: all 0.2s ease;
}
.pokemon-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
.pokemon-card.legendary {
    border-color: gold;
    box-shadow: 0 0 15px rgba(255,215,0,0.5);
    background: linear-gradient(180deg, #fffef0 0%, #fff5cc 100%);
}
.pokemon-card img {
    width: 70px;
    height: 70px;
    image-rendering: pixelated;
    background: rgba(0,0,0,0.05);
    border-radius: 8px;
}
.pokemon-card .poke-name {
    font-size: 8px;
    margin: 5px 0;
    color: #333;
    text-transform: uppercase;
}
.pokemon-card .poke-type {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 6px;
    color: white;
    text-transform: uppercase;
    margin-bottom: 8px;
}
/* Type backgrounds */
.type-fire { background: var(--type-fire); }
.type-water { background: var(--type-water); }
.type-grass { background: var(--type-grass); }
.type-electric { background: var(--type-electric); }
.type-psychic { background: var(--type-psychic); }
.type-normal { background: var(--type-normal); }
.type-ice { background: var(--type-ice); }
.type-fighting { background: var(--type-fighting); }
.type-poison { background: var(--type-poison); }
.type-ground { background: var(--type-ground); }
.type-flying { background: var(--type-flying); }
.type-bug { background: var(--type-bug); }
.type-rock { background: var(--type-rock); }
.type-ghost { background: var(--type-ghost); }
.type-dragon { background: var(--type-dragon); }
.type-dark { background: var(--type-dark); }
.type-steel { background: var(--type-steel); }
.type-fairy { background: var(--type-fairy); }
.pokemon-card .poke-stats {
    display: flex;
    justify-content: space-around;
    font-size: 6px;
    margin: 8px 0;
    background: rgba(0,0,0,0.05);
    padding: 5px;
    border-radius: 5px;
}
.pokemon-card .stat {
    text-align: center;
}
.pokemon-card .stat-label {
    color: #666;
    display: block;
    margin-bottom: 2px;
}
.pokemon-card .stat-value {
    color: var(--pokemon-blue);
    font-weight: bold;
}
.pokemon-card .btn-select {
    width: 100%;
    padding: 8px;
    font-size: 7px;
}
/* ===== SHOP PAGE ===== */
#page-shop .ds-screen {
    background: linear-gradient(180deg, #ffeedd 0%, #ffddbb 100%);
    padding: 15px;
}
.shop-coins {
    text-align: center;
    background: linear-gradient(180deg, #fff8e0 0%, #ffe8a0 100%);
    padding: 10px;
    border-radius: 10px;
    margin-bottom: 15px;
    border: 3px solid #d4a000;
    font-size: 10px;
}
.packs-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}
.pack {
    background: linear-gradient(180deg, #fff 0%, #f0f0f0 100%);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 4px solid #ccc;
}
.pack:hover {
    transform: scale(1.03);
}
.pack-base {
    border-color: var(--pokemon-blue);
}
.pack-base:hover {
    box-shadow: 0 0 20px rgba(59, 76, 202, 0.4);
}
.pack-legendary {
    border-color: gold;
    background: linear-gradient(180deg, #fffef0 0%, #fff5cc 100%);
    box-shadow: 0 0 20px rgba(255,215,0,0.3);
    animation: legendaryGlow 2s ease-in-out infinite;
}
@keyframes legendaryGlow {
    0%, 100% { box-shadow: 0 0 20px rgba(255,215,0,0.3); }
    50% { box-shadow: 0 0 40px rgba(255,215,0,0.6); }
}
.pack-legendary:hover {
    box-shadow: 0 0 40px rgba(255,215,0,0.8);
}
.pack-image {
    width: 80px;
    height: 100px;
    margin: 0 auto 10px;
    background: linear-gradient(180deg, var(--pokemon-red) 0%, #cc0000 50%, #222 50%, #222 52%, #fff 52%);
    border-radius: 10px;
    border: 3px solid #222;
    position: relative;
}
.pack-legendary .pack-image {
    background: linear-gradient(180deg, gold 0%, #ffa500 50%, #222 50%, #222 52%, #fff 52%);
    border-color: #8B4513;
}
.pack-image::after {
    content: '?';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 30px;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}
.pack-title {
    font-size: 10px;
    color: #333;
    margin-bottom: 5px;
}
.pack-legendary .pack-title {
    color: #8B4513;
}
.pack-desc {
    font-size: 7px;
    color: #666;
    margin-bottom: 10px;
}
.pack-price {
    font-size: 12px;
    color: var(--pokemon-blue);
    background: rgba(0,0,0,0.1);
    padding: 5px 15px;
    border-radius: 20px;
    display: inline-block;
}
.pack-legendary .pack-price {
    color: #8B4513;
    background: rgba(255,215,0,0.3);
}
#pack-reveal {
    background: rgba(0,0,0,0.9);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}
.reveal-animation {
    animation: revealPop 0.5s ease-out;
}
@keyframes revealPop {
    0% { transform: scale(0) rotate(-180deg); opacity: 0; }
    100% { transform: scale(1) rotate(0deg); opacity: 1; }
}
#last-pokemon {
    background: linear-gradient(180deg, #e0ffe0 0%, #c0e0c0 100%);
    border: 3px solid var(--type-grass);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    margin-bottom: 15px;
}
#last-pokemon.hidden + .empty-reveal {
    display: block;
}
.last-pokemon-title {
    font-size: 8px;
    color: #333;
    margin-bottom: 10px;
}
/* ===== BATTLE PAGE ===== */
#page-battle {
    padding: 10px;
}
#page-battle .ds-frame {
    padding: 10px;
}
#battle-screen-top {
    background: linear-gradient(180deg, #87CEEB 0%, #98FB98 60%, #228B22 100%);
    height: 200px;
    border-radius: 8px 8px 0 0;
    border: 4px solid #111;
    border-bottom: 2px solid #111;
    position: relative;
    overflow: hidden;
}
.battle-bg-element {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: linear-gradient(180deg, #228B22 0%, #1a6b1a 100%);
}
#enemy-pokemon {
    position: absolute;
    top: 20px;
    right: 20px;
    text-align: center;
}
#player-pokemon {
    position: absolute;
    bottom: 20px;
    left: 20px;
    text-align: center;
}
.battle-pokemon {
    display: flex;
    flex-direction: column;
    align-items: center;
}
.battle-pokemon img {
    width: 80px;
    height: 80px;
    image-rendering: pixelated;
}
.battle-pokemon.enemy img {
    transform: scaleX(-1);
}
.pokemon-info-battle {
    background: rgba(255,255,255,0.95);
    border: 3px solid #333;
    border-radius: 8px;
    padding: 8px;
    min-width: 120px;
}
.enemy .pokemon-info-battle {
    position: absolute;
    top: 0;
    left: -130px;
}
.player .pokemon-info-battle {
    position: absolute;
    bottom: 0;
    right: -130px;
}
.pokemon-battle-name {
    font-size: 8px;
    margin-bottom: 5px;
}
.hp-bar-container {
    background: #333;
    height: 10px;
    border-radius: 5px;
    overflow: hidden;
    border: 2px solid #222;
}
.hp-bar {
    height: 100%;
    background: linear-gradient(180deg, #00ff00 0%, #00cc00 100%);
    transition: width 0.5s ease, background 0.3s ease;
    border-radius: 3px;
}
.hp-bar.medium {
    background: linear-gradient(180deg, #ffff00 0%, #cccc00 100%);
}
.hp-bar.low {
    background: linear-gradient(180deg, #ff0000 0%, #cc0000 100%);
}
.hp-text {
    font-size: 6px;
    text-align: right;
    margin-top: 2px;
}
.ds-hinge {
    height: 15px;
    background: linear-gradient(180deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%);
    display: flex;
    align-items: center;
    justify-content: center;
}
.hinge-line {
    width: 60%;
    height: 3px;
    background: #444;
    border-radius: 2px;
}
#battle-screen-bottom {
    background: linear-gradient(180deg, #d0d0d0 0%, #a0a0a0 100%);
    border-radius: 0 0 8px 8px;
    border: 4px solid #111;
    border-top: 2px solid #111;
    padding: 15px;
}
#battle-log {
    background: #fff;
    border: 3px solid #333;
    border-radius: 8px;
    padding: 10px;
    height: 60px;
    overflow-y: auto;
    margin-bottom: 15px;
    font-size: 8px;
    line-height: 1.6;
}
#battle-log::-webkit-scrollbar {
    width: 6px;
}
#battle-log::-webkit-scrollbar-thumb {
    background: #666;
    border-radius: 3px;
}
.moves-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
    margin-bottom: 10px;
}
.move-btn {
    font-family: 'Press Start 2P', cursive;
    font-size: 8px;
    padding: 12px 8px;
    border: 3px solid #333;
    border-radius: 8px;
    cursor: pointer;
    text-transform: uppercase;
    transition: all 0.2s ease;
    color: white;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.move-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 3px 10px rgba(0,0,0,0.3);
}
.move-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}
.battle-actions {
    display: flex;
    gap: 10px;
}
.battle-actions .btn-ds {
    flex: 1;
    font-size: 8px;
    padding: 10px;
}
#victory-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.85);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 3000;
}
.victory-content {
    background: linear-gradient(180deg, #ffd700 0%, #ffaa00 100%);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    border: 5px solid #8B4513;
    animation: victoryPop 0.5s ease-out;
}
@keyframes victoryPop {
    0% { transform: scale(0); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}
.victory-title {
    font-size: 16px;
    color: #333;
    margin-bottom: 15px;
}
.victory-coins {
    font-size: 20px;
    color: var(--pokemon-red);
    margin-bottom: 20px;
}
.defeat-content {
    background: linear-gradient(180deg, #666 0%, #444 100%);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    border: 5px solid #222;
}
.defeat-title {
    font-size: 16px;
    color: #ff6666;
    margin-bottom: 20px;
}
/* ===== BACK BUTTON AREA ===== */
.page-footer {
    margin-top: 15px;
    text-align: center;
}
/* ===== RESPONSIVE ===== */
@media (max-width: 400px) {
    .game-title {
        font-size: 10px;
    }
    
    .coin-display {
        font-size: 10px;
        padding: 6px 12px;
    }
    
    .menu-title {
        font-size: 16px;
    }
    
    #pokemon-grid {
        grid-template-columns: 1fr;
    }
    
    .pokemon-info-battle {
        min-width: 100px;
    }
    
    .enemy .pokemon-info-battle {
        left: -110px;
    }
    
    .player .pokemon-info-battle {
        right: -110px;
    }
}
/* ===== LOADING STATE ===== */
.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #fff;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
/* ===== POKEMON SWITCH MODAL ===== */
#switch-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.9);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2500;
    padding: 20px;
}
.switch-title {
    color: white;
    font-size: 12px;
    margin-bottom: 20px;
}
.switch-pokemon-list {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
}